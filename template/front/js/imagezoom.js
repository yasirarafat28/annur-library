!function(o){var i,e,t,r,s,c,a={cursorcolor:"255,255,255",opacity:.5,cursor:"crosshair",zindex:2147483647,zoomviewsize:[window.innerWidth/2,o(".thumb-image").height()],zoomviewposition:"right",zoomviewmargin:0,zoomviewborder:"1px solid #DDD",magnification:1.925},m={init:function(n){$this=o(this),i=o(".imagezoom-cursor"),e=o(".imagezoom-view"),o(document).on("mouseenter",$this.selector,function(u){var g=o(this).data();t=o.extend({},a,n,g),c=o(this).offset(),r=o(this).width(),s=o(this).height(),cursorSize=[t.zoomviewsize[0]/t.magnification,t.zoomviewsize[1]/t.magnification],1==g.imagezoom?imageSrc=o(this).attr("src"):imageSrc=o(this).get(0).getAttribute("data-imagezoom");var d,z=u.pageX,l=u.pageY;o("body").prepend('<div class="imagezoom-cursor">&nbsp;</div><div class="imagezoom-view"><img src="'+imageSrc+'"></div>'),d="left"==t.zoomviewposition?c.right+r+t.zoomviewmargin:c.right-r-t.zoomviewmargin,o(e.selector).css({position:"absolute",left:d,top:c.top-20,width:cursorSize[0]*t.magnification,height:cursorSize[1]*t.magnification,"min-height":"300px",background:"#000","z-index":900,overflow:"hidden",border:t.zoomviewborder}),o(e.selector).children("img").css({position:"absolute",width:r*t.magnification,height:s*t.magnification}),o(i.selector).css({position:"absolute",width:cursorSize[0],height:cursorSize[1],"min-height":"300px","background-color":"rgb("+t.cursorcolor+")","z-index":t.zindex,opacity:t.opacity,cursor:t.cursor}),o(i.selector).css({top:l-cursorSize[1]/2,left:z}),o(document).on("mousemove",document.body,m.cursorPos)})},cursorPos:function(a){var m=a.pageX,n=a.pageY;return n<c.top||m<c.left||n>c.top+s||m>c.left+r?(o(i.selector).remove(),void o(e.selector).remove()):(m-cursorSize[0]/2<c.left?m=c.left+cursorSize[0]/2:m+cursorSize[0]/2>c.left+r&&(m=c.left+r-cursorSize[0]/2),n-cursorSize[1]/2<c.top?n=c.top+cursorSize[1]/2:n+cursorSize[1]/2>c.top+s&&(n=c.top+s-cursorSize[1]/2),o(i.selector).css({top:n-cursorSize[1]/2,left:m-cursorSize[0]/2}),o(e.selector).children("img").css({top:(c.top-n+cursorSize[1]/2)*t.magnification,left:(c.left-m+cursorSize[0]/2)*t.magnification}),void o(i.selector).mouseleave(function(){o(this).remove()}))}};o.fn.imageZoom=function(i){return m[i]?m[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void o.error(i):m.init.apply(this,arguments)},o(document).ready(function(){o("#zoomremSwitch").click(function(){o(".thumb-image img").removeAttr("data-imagezoom"),o("#zoomremSwitch").css("display","none"),o("#zoomaddSwitch").css("display","block")}),o("#zoomaddSwitch").click(function(){o(".thumb-image img").attr("data-imagezoom","true"),o("#zoomremSwitch").css("display","block"),o("#zoomaddSwitch").css("display","none"),o("[data-imagezoom]").imageZoom()})})}(jQuery);